# ADR-006: AWS Cognito and AWS DynamoDB 

## Status
Accepted

## Context
Understand why industry uses AWS Cognito for Auth setup. Understand the difference between using AWS DynamoDB and PostgreSQL for different areas of the expense app.

**Requirements:**
- Understand AWS Cognito architecture (User Pools, App Clients, tokens)
- Determine when to use DynamoDB vs PostgreSQL for different data types
- Articulate why server-side authentication is critical for security

**Options considered for type of Auth to implement:**
1. **Building Auth by myself**: Using password hashing libraries like bcrypt. Have to build out token generation and validation, email verification, etc.
2. **AWS Cognito**: Handles above necessities and has automatic security updates, is compliant with HIPAA and SOC2. It's also used in industry of course...

## Decision
We'll use AWS Cognito, as it has Auth setup packaged, so developers can focus on shipping, not reinventing the wheel for Auth. 

**Options considered for database used:**
1. **AWS DynamoDB**: A no SQL database. 
2. **PostgreSQL**: SQL database.

## Decision
AWS DynamoDB for user preferences. Since DynamoDB is NoSQL, it has extremely fast response times. Since user preferences (theme, currency, default category) are simple, no complex queries are needed (hint for not needing PostgreSQL).

PostgreSQL for expenses. Expenses need more complex filtering, which is perfect for a SQL database.

**Rationale:**
- 

## Consequences

**Positive:**
- 

**Negative:**
- 

**Mitigation:**
- 

## Date
11/17/25

## Participants
Zhuolin Li (myself)
